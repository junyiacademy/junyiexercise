
<!DOCTYPE html>
<html data-require="math math-format graphie graphie-helpers graphie-helpers-arithmetic">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>10以內的加減</title>
    <script src="../khan-exercise.js"></script>
	<style type="text/css">
		.imginsert{height: 80px;opacity: 0.3;filter:alpha(opacity=30);-moz-opacity:0.3; -khtml-opacity:0.3;  }
	    .imginsertnew{ height: 80px;opacity: 1;filter:alpha(opacity=30);-moz-opacity:0.3; -khtml-opacity:0.3; }
    </style>
	<script language="javascript">	
		function loadImg(elem,url){
			document.getElementById(elem).src=url;
		}
		function imgSelect(num){
				var obj = $('#im' + num);
				var el = obj.attr( 'class' ).split(" ");
				if(el.indexOf('imginsert') != -1){
					obj.removeClass('imginsert');
					obj.addClass('imginsertnew');
					$('#ims'+num).val(1);
				}else{
					obj.removeClass('imginsertnew');
					obj.addClass('imginsert');
					$('#ims'+num).val(0);
				}
		}			
	</script>
</head>
<body>
	<div class="exercise">	
		<div class="problems">
			<div id="case1">
				<div class="vars">
					<var id="number">randFromArray([[4,2],[4,3],[5,2],[5,3],[6,2],[6,3],[7,2],[7,3],[8,2]])</var>
					<var id="picture">randRange(1, 3)</var>
					<var id="all">number[0]+number[1]</var>	
					<var id="CAKE_PICS">['cake1.png','cake2.png','cake3.png']</var>
					<var id="loImg">
					(function(){
						for(var i = 0; i &lt; 10; i++){
							loadImg("im"+i, Khan.urlBase + "images/" +CAKE_PICS[picture-1]);
						}
						for(var j = 0; j &lt; number[0]; j++){
							$('#im'+j).removeClass('imginsert');
							$('#im'+j).addClass('imginsertnew');
							$('#ims'+j).val(1);
						}
						for(var j = number[0]; j &lt; 10; j++){
							$('#ims'+j).val(0);
						}
					})()</var>
				</div>	
				<div class="question">
					<p>桌上原來有 <code><var>number[0]</var></code> 個<span data-if="picture == 1">杯子蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>，後來又送來了 <code><var>number[1]</var></code> 個，請問現在總共有多少個<span data-if="picture == 1">杯子蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>。並在圖中點選出正確的<span data-if="picture == 1">蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>數量。</p>
					<table>
						<tr>
							<td id="ims0" onclick="imgSelect(0)"><img id="im0" class="imginsert"/></td>
							<td id="ims1" onclick="imgSelect(1)"><img id="im1" class="imginsert"/></td>
							<td id="ims2" onclick="imgSelect(2)"><img id="im2" class="imginsert"/></td>
							<td id="ims3" onclick="imgSelect(3)"><img id="im3" class="imginsert"/></td>
							<td id="ims4" onclick="imgSelect(4)"><img id="im4" class="imginsert"/></td>
						</tr>
						<tr>
							<td id="ims5" onclick="imgSelect(5)"><img id="im5" class="imginsert"/></td>
							<td id="ims6" onclick="imgSelect(6)"><img id="im6" class="imginsert"/></td>
							<td id="ims7" onclick="imgSelect(7)"><img id="im7" class="imginsert"/></td>
							<td id="ims8" onclick="imgSelect(8)"><img id="im8" class="imginsert"/></td>
							<td id="ims9" onclick="imgSelect(9)"><img id="im9" class="imginsert"/></td>
						</tr>
					</table>
				</div>
				<div class="solution" data-type="multiple">
					 <p><input type="text" id="ansstr" style="width : 100px"/></p>
					<div class="sol" data-type="custom">
						<div class="guess">[$('#ims0').val(),$('#ims1').val(),$('#ims2').val(),$('#ims3').val(),$('#ims4').val(),$('#ims5').val(),$('#ims6').val(),$('#ims7').val(),$('#ims8').val(),$('#ims9').val(),$('#ansstr').val().replace(/\s/g,"")]</div>					
						<div class="validator-function">
							var ans_1 = (parseInt(guess[0])+parseInt(guess[1])+parseInt(guess[2])+parseInt(guess[3])+parseInt(guess[4])+parseInt(guess[5])+parseInt(guess[6])+parseInt(guess[7])+parseInt(guess[8])+parseInt(guess[9]));
							if(ans_1 == number[0]&&guess[10]==""){
								return "";
							}
							
							if(ans_1 == all&&guess[10]==all){
								return true;
							}	
							else
								return false;
						</div>				
					<p class="example">整數，例：<code>6</code></p>
					<p class="example">請在圖中點選出正確的數量。</p>

					</div>
				</div>
				<div class="hints">
					<p>原本有 <code><var>number[0]</var></code> 個<span data-if="picture == 1">杯子蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>，<br/>加上 <code>1</code> 個，就有 <code><var>number[0]+1</var></code> 個，<br/>再加上 <code>1</code> 個，就有 <code><var>number[0]+2</var></code> 個<span data-if="number[1]==3">，<br/>再次加上 <code>1</code> 個，就有 <code><var>all</var></code> 個</span>。					
					<var>(function(){
						var sims = function(){
							for(var j = 0; j &lt; all; j++){
								$('#im'+j).removeClass('imginsert');
								$('#im'+j).addClass('imginsertnew');
								$('#ims'+j).val(1);
							}
							for(var j = all; j &lt; 10; j++){
							$('#im'+j).removeClass('imginsertnew');
							$('#im'+j).addClass('imginsert');
								$('#ims'+j).val(0);
							}
						}
						$("#hint").bind("click",sims);
						
					})()</var></p>
					<p>算式為：<code><var>number[0]</var> + <var>number[1]</var> = </code> <code class="hint_pink"><var>all</var></code></p>
				</div>
			</div>
			<div id="case2">
				<div class="vars">
					<var id="number">randFromArray([[4,2],[4,3],[5,2],[5,3],[6,2],[6,3],[7,2],[7,3],[8,2],[9,2],[9,3]])</var>
					<var id="picture">randRange(1, 3)</var>
					<var id="all">number[0]-number[1]</var>	
					<var id="CAKE_PICS">['cake1.png','cake2.png','cake3.png']</var>
					<var id="loImg">
					(function(){
						for(var i = 0; i &lt; 10; i++){
							loadImg("im"+i, Khan.urlBase + "images/" +CAKE_PICS[picture-1]);
						}
						for(var j = 0; j &lt; number[0]; j++){
							$('#im'+j).removeClass('imginsert');
							$('#im'+j).addClass('imginsertnew');
							$('#ims'+j).val(1);
						}
						for(var j = number[0]; j &lt; 10; j++){
							$('#ims'+j).val(0);
						}
					})()</var>
				</div>	
				<div class="question">
					<p>桌上原來有 <code><var>number[0]</var></code> 個<span data-if="picture == 1">杯子蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>，妹妹吃掉了 <code><var>number[1]</var></code> 個，請問現在剩下多少個<span data-if="picture == 1">杯子蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>。並在圖中點選出正確的<span data-if="picture == 1">蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>數量。</p>
			
					<table>
						<tr>
							<td id="ims0" onclick="imgSelect(0)"><img id="im0" class="imginsert"/></td>
							<td id="ims1" onclick="imgSelect(1)"><img id="im1" class="imginsert"/></td>
							<td id="ims2" onclick="imgSelect(2)"><img id="im2" class="imginsert"/></td>
							<td id="ims3" onclick="imgSelect(3)"><img id="im3" class="imginsert"/></td>
							<td id="ims4" onclick="imgSelect(4)"><img id="im4" class="imginsert"/></td>
						</tr>
						<tr>
							<td id="ims5" onclick="imgSelect(5)"><img id="im5" class="imginsert"/></td>
							<td id="ims6" onclick="imgSelect(6)"><img id="im6" class="imginsert"/></td>
							<td id="ims7" onclick="imgSelect(7)"><img id="im7" class="imginsert"/></td>
							<td id="ims8" onclick="imgSelect(8)"><img id="im8" class="imginsert"/></td>
							<td id="ims9" onclick="imgSelect(9)"><img id="im9" class="imginsert"/></td>
						</tr>
					</table>
				</div>
				<div class="solution" data-type="multiple">
					 <p><input type="text" id="ansstr2" style="width : 100px"/></p>
					<div class="sol" data-type="custom">
						<div class="guess">[$('#ims0').val(),$('#ims1').val(),$('#ims2').val(),$('#ims3').val(),$('#ims4').val(),$('#ims5').val(),$('#ims6').val(),$('#ims7').val(),$('#ims8').val(),$('#ims9').val(),$('#ansstr2').val().replace(/\s/g,"")]</div>					
						<div class="validator-function">
							var ans_1 = (parseInt(guess[0])+parseInt(guess[1])+parseInt(guess[2])+parseInt(guess[3])+parseInt(guess[4])+parseInt(guess[5])+parseInt(guess[6])+parseInt(guess[7])+parseInt(guess[8])+parseInt(guess[9]));
							if(ans_1 == number[0]&&guess[10]==""){
								return "";
							}
							
							if(ans_1 == all&&guess[10]==all){
								return true;
							}	
							else
								return false;
						</div>				
						<p class="example">整數，例：<code>6</code></p>
						<p class="example">請在圖中點選出正確的數量。</p>
					</div>
				</div>
				<div class="hints">
				<p>原本有 <code><var>number[0]</var></code> 個<span data-if="picture == 1">杯子蛋糕</span><span data-if="picture == 2">三明治</span><span data-if="picture == 3">棒棒糖</span>，<br/>拿走 <code>1</code> 個，就有 <code><var>number[0]-1</var></code> 個，<br/>再拿走 <code>1</code> 個，就有 <code><var>number[0]-2</var></code> 個<span data-if="number[1]==3">，<br/>再次拿走 <code>1</code> 個，就有 <code><var>all</var></code> 個</span>。			
					<var>(function(){
						var sims = function(){
							for(var j = 0; j &lt; all; j++){
								$('#im'+j).removeClass('imginsert');
								$('#im'+j).addClass('imginsertnew');
								$('#ims'+j).val(1);
							}
							for(var j = all; j &lt; 10; j++){
							$('#im'+j).removeClass('imginsertnew');
							$('#im'+j).addClass('imginsert');
								$('#ims'+j).val(0);
							}
						}
						$("#hint").bind("click",sims);
					})()</var></p>
					<p>算式為：<code><var>number[0]</var> - <var>number[1]</var> =</code> <code class="hint_pink"><var>all</var></code></p>
				</div>
			</div>
		</div>
	</div>
</body>
</html>