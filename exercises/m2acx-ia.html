<!DOCTYPE html>
<html data-require="math graphie graphie-helpers math-format">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>有括號的併式(加減)</title>
    <script src="../khan-exercise.js"></script>
	<script script="text/javascript">
        if (!Array.prototype.indexOf)
			{
			  Array.prototype.indexOf = function(elt /*, from*/)
			  {
			    var len = this.length >>> 0;
			    var from = Number(arguments[1]) || 0;
			    from = (from < 0)
			         ? Math.ceil(from)
			         : Math.floor(from);
			    if (from < 0)
			      from += len;
			    for (; from < len; from++)
			    {
			      if (from in this &&
			          this[from] === elt)
			        return from;
			    }
			    return -1;
			  };
			}

		function boxClick( id ){
			var obj = $( '#' + id );
			var isChecked = obj.prop( 'checked' );
			if( isChecked ) {
				obj.prop( 'checked', false );
			} else {
				obj.prop( 'checked', true );
			}
		}

		function radioClick( id ) {
			$( '#' + id ).prop( 'checked', true );
		}
	</script>

</head>
<body>
<div class="exercise">
<div class="problems">
	<div id="case1">
        <div class="vars" data-ensure=" A &gt; B + C ">
			<var id="A, B, C"> randRangeUnique( 100, 1000, 3 ).sort(function( a, b){ return b - a; }) </var>
			<var id="QUES">(function(){
				var res = [];
				res.push( "(" + A + "-" + B + ")+" + C );
				res.push( A + "-(" + B + "+" + C + ")" );
				res.push( "(" + A + "-" + B + ")-" + C );
				res.push( A + "-(" + B + "-" + C + ")" );
				return res;
			})()</var>
			<var id="Q"> randRangeUnique( 0, 4, 4 ) </var>
			<var id="_QUES"> [ QUES[ Q[ 0 ] ], QUES[ Q[ 1 ] ], QUES[ Q[ 2 ] ], QUES[ Q[ 3 ] ] ] </var>
        </div>

		<div class="question">
		<p>水果店有 <code><var>A</var></code> 顆柳丁，昨天賣出 <code><var>B</var></code> 顆，今天賣出 <code><var>C</var></code> 顆，水果店裡還剩下幾顆柳丁？</p>
		<p>可以如何列式呢？（多選）</p>
		<p onclick="boxClick( 'option_1' )"><input id="option_1" type="checkbox" name="radios" value="0"/>&nbsp;<code><var>_QUES[ 0 ]</var></code></p>
        <p onclick="boxClick( 'option_2' )"><input id="option_2" type="checkbox" name="radios" value="1"/>&nbsp;<code><var>_QUES[ 1 ]</var></code></p>
		<p onclick="boxClick( 'option_3' )"><input id="option_3" type="checkbox" name="radios" value="2"/>&nbsp;<code><var>_QUES[ 2 ]</var></code></p>
		<p onclick="boxClick( 'option_4' )"><input id="option_4" type="checkbox" name="radios" value="3"/>&nbsp;<code><var>_QUES[ 3 ]</var></code></p>
		</div>
		<div class="solution" data-type="multiple">
		<p>請選擇所有正確的答案</p>
		<div class="sol" data-type="custom">
				<div class="guess">(function(){
					var arr = [];
	            	$('input:checkbox[name="radios"]:checked').each( function() {
	            		arr.push( $(this).val() );
	            	} );
	            	return arr;
				})()</div>
	            <div class="validator-function">
	            	if( guess.length == 0 ) {
	            		return "";
	            	} else if( guess.length != 2 ) {
	            		return false;
	            	} else {
	            		var s = [ Q.indexOf( 1 ), Q.indexOf( 2 ) ].sort( function( a, b ){ return a - b; });

	            		return guess[ 0 ] == s[ 0 ] &amp;&amp; guess[ 1 ] == s[ 1 ];
	            	}
	            </div>
            </div>
		</div>

    	<div class="hints">
			<div>
				<p>有兩種不同的想法：</p>
				<p><code>1.</code> 先算出共賣出幾顆，再算還剩下幾顆。</p>
				<p><code>2.</code> 先算昨天還剩下幾顆，再算今天剩下幾顆。</p>
			</div>
			<div>
				<p>第一種想法對應到 <code>\color{#ff00af}{<var>A</var>-(<var>B</var>+<var>C</var>)}</code></p>
				<p>第二種想法對應到 <code>\color{#ff00af}{(<var>A</var>-<var>B</var>)-<var>C</var>}</code></p>
			</div> 
    	</div>
	</div>

	<div id="case2">
        <div class="vars" data-ensure=" A &gt; B - C &amp;&amp; B &gt; C ">
			<var id="A, B, C"> randRangeUnique( 10, 100, 3 ) </var>
			<var id="QUES">(function(){
				var res = [];
				res.push("("+A+"+"+B+")-"+C);
				res.push(A+"+("+B+"-"+C+")");
				res.push("("+A+"-"+B+")-"+C);
				res.push(A+"-("+B+"-"+C+")");
				return res;
			})()</var>
			<var id="Q"> randRangeUnique( 0, 4, 4 ) </var>
			<var id="_QUES"> [ QUES[ Q[ 0 ] ], QUES[ Q[ 1 ] ], QUES[ Q[ 2 ] ], QUES[ Q[ 3 ] ] ] </var>
        </div>

		<div class="question">
		<p>小玉有 <code><var>A</var></code> 顆糖果，阿明有 <code><var>B</var></code> 顆糖果，阿明給妹妹 <code><var>C</var></code> 顆糖果後，小玉比阿明多幾顆糖果？</p>
		<p>可以如何列式呢？</p>
		<p onclick="radioClick( 'option_1' )"><input id="option_1" type="radio" name="count_numbers_1" value="0"/>&nbsp;<code><var>_QUES[ 0 ]</var></code></p>
        <p onclick="radioClick( 'option_2' )"><input id="option_2" type="radio" name="count_numbers_1" value="1"/>&nbsp;<code><var>_QUES[ 1 ]</var></code></p>
		<p onclick="radioClick( 'option_3' )"><input id="option_3" type="radio" name="count_numbers_1" value="2"/>&nbsp;<code><var>_QUES[ 2 ]</var></code></p>
		<p onclick="radioClick( 'option_4' )"><input id="option_4" type="radio" name="count_numbers_1" value="3"/>&nbsp;<code><var>_QUES[ 3 ]</var></code></p>
		</div>
		
		<div class="solution" data-type="multiple">
		<p>請選擇正確的答案</p>
		<div class="sol" data-type="custom">
				<div class="guess">$('input:radio[name="count_numbers_1"]:checked').val()</div>
	            <div class="validator-function">
	            	if(guess == null){
                		return "";
                	}
                	return guess ==  Q.indexOf( 3 );
	            </div>
            </div>
		</div>

    	<div class="hints">
			<p>先算阿明還剩幾顆糖果，再算小玉比阿明多幾顆糖果。</p>
			<p>阿明還剩下 <code><var>B</var>-<var>C</var></code> 顆糖果，所以小玉比阿明多 <code>\color{#ff00af}{<var>A</var>-(<var>B</var>-<var>C</var>)}</code> 顆糖果。</p>	
    	</div>
	</div>

	<div id="case3">
        <div class="vars">
			<var id="A"> randRange( 10, 99 ) </var>
			<var id="B"> randRange( 2, 9 ) </var>
			<var id="QUES">(function(){
				var res = [];
				res.push(A+"+("+A+"+"+B+")");
				res.push(A+"+("+A+"-"+B+")");
				res.push(A+"-("+A+"+"+B+")");
				res.push(A+"-("+A+"-"+B+")");
				return res;
			})()</var>
			<var id="Q"> randRangeUnique( 0, 4, 4 ) </var>
			<var id="_QUES"> [ QUES[ Q[ 0 ] ], QUES[ Q[ 1 ] ], QUES[ Q[ 2 ] ], QUES[ Q[ 3 ] ] ] </var>
        </div>

		<div class="question">
		<p>桌上有 <code><var>A</var></code> 顆紅蘋果和一些青蘋果。青蘋果比紅蘋果多 <code><var>B</var></code> 顆，請問桌上共有幾顆蘋果？</p>
		<p>可以如何列式呢？</p>
		<p onclick="radioClick( 'option_1' )"><input id="option_1" type="radio" name="count_numbers_1" value="0"/>&nbsp;<code><var>_QUES[ 0 ]</var></code></p>
        <p onclick="radioClick( 'option_2' )"><input id="option_2" type="radio" name="count_numbers_1" value="1"/>&nbsp;<code><var>_QUES[ 1 ]</var></code></p>
		<p onclick="radioClick( 'option_3' )"><input id="option_3" type="radio" name="count_numbers_1" value="2"/>&nbsp;<code><var>_QUES[ 2 ]</var></code></p>
		<p onclick="radioClick( 'option_4' )"><input id="option_4" type="radio" name="count_numbers_1" value="3"/>&nbsp;<code><var>_QUES[ 3 ]</var></code></p>
		</div>
		
		<div class="solution" data-type="multiple">
		<p>請選擇正確的答案</p>
		<div class="sol" data-type="custom">
				<div class="guess">$('input:radio[name="count_numbers_1"]:checked').val()</div>
	            <div class="validator-function">
	            	if(guess == null){
                		return "";
                	}
                	return guess ==  Q.indexOf( 0 );
	            </div>
            </div>
		</div>

    	<div class="hints">
			<p>先算青蘋果有幾顆，再算桌上共有幾顆蘋果。</p>
			<p>桌上共有 <code>\color{#ff00af}{<var>A</var>+(<var>A</var>+<var>B</var>)}</code> 蘋果。</p>		
    	</div>
	</div>

	<div id="case4">
        <div class="vars">
			<var id="A"> randRange( 10, 99 ) </var>
			<var id="B"> randRange( 2, 9 ) </var>
			<var id="QUES">(function(){
				var res = [];
				res.push(A+"+("+A+"+"+B+")");
				res.push(A+"+("+A+"-"+B+")");
				res.push(A+"-("+A+"+"+B+")");
				res.push(A+"-("+A+"-"+B+")");
				return res;
			})()</var>
			<var id="Q"> randRangeUnique( 0, 4, 4 ) </var>
			<var id="_QUES"> [ QUES[ Q[ 0 ] ], QUES[ Q[ 1 ] ], QUES[ Q[ 2 ] ], QUES[ Q[ 3 ] ] ] </var>
        </div>

		<div class="question">
		<p>三年甲班男生有 <code><var>A</var></code> 人，女生比男生少 <code><var>B</var></code> 人，三年甲班有多少人？</p>
		<p>可以如何列式呢？</p>
		<p onclick="radioClick( 'option_1' )"><input id="option_1" type="radio" name="count_numbers_1" value="0"/>&nbsp;<code><var>_QUES[ 0 ]</var></code></p>
        <p onclick="radioClick( 'option_2' )"><input id="option_2" type="radio" name="count_numbers_1" value="1"/>&nbsp;<code><var>_QUES[ 1 ]</var></code></p>
		<p onclick="radioClick( 'option_3' )"><input id="option_3" type="radio" name="count_numbers_1" value="2"/>&nbsp;<code><var>_QUES[ 2 ]</var></code></p>
		<p onclick="radioClick( 'option_4' )"><input id="option_4" type="radio" name="count_numbers_1" value="3"/>&nbsp;<code><var>_QUES[ 3 ]</var></code></p>
		</div>
		
		<div class="solution" data-type="multiple">
		<p>請選擇所有正確的答案</p>
		<div class="sol" data-type="custom">
				<div class="guess">$('input:radio[name="count_numbers_1"]:checked').val()</div>
	            <div class="validator-function">
	            	if(guess == null){
                		return "";
                	}
                	return guess ==  Q.indexOf( 1 );
	            </div>
            </div>
		</div>

    	<div class="hints">
			<p>先算女生有多少人，再算全班有多少人。</p>
			<p>三年甲班有 <code>\color{#ff00af}{<var>A</var>+(<var>A</var>-<var>B</var>)}</code> 蘋果。</p>		
    	</div>
	</div>

	
</div>
</div>
</body>
</html>			