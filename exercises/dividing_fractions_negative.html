<!DOCTYPE html>
<html data-require="math math-format">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>分數除法</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
    <div class="vars" data-ensure="getGCD(N1, D1) === 1 && getGCD(N2, D2) === 1">
        <var id="NEG1">randFromArray([1, -1])</var>
        <var id="NEG1S">NEG1 === -1 ? "-" : ""</var>
        <var id="N1">randRange(1, 9)</var>
        <var id="D1">randRange(2, 9)</var>
        <var id="NEG2">
            (function(){
                if(NEG1 === 1){return -1;};
                if(NEG1 === -1){return randFromArray([1, -1]);};
            })()</var>
        <var id="NEG2S">NEG2 === -1 ? "-" : ""</var>
        <var id="N2">randRange(1, 9)</var>
        <var id="D2">randRange(2, 9)</var>

        <var id="GCD1">getGCD( N1, N2 )</var>
        <var id="SIMP_N1">N1 / GCD1</var>
        <var id="SIMP_N2">N2 / GCD1</var>

        <var id="GCD2">getGCD( D1, D2 )</var>
        <var id="SIMP_D1">D1 / GCD2</var>
        <var id="SIMP_D2">D2 / GCD2</var>

    </div>

    <div class="problems">
        <div>
            <div class="problem">請計算至最簡分式：</div>
            <div class="question">
                <p><code>\displaystyle <span data-if="NEG1 === -1">\left(</span><var>NEG1S</var> \frac{<var>N1</var>}{<var>D1</var>}<span data-if="NEG1 === -1">\right)</span> \div <span data-if="NEG2 === -1">\left(</span><var>NEG2S</var> \frac{<var>N2</var>}{<var>D2</var>}<span data-if="NEG2 === -1">\right)</span> = {?}</code></p>
            </div>
            <div class="solution" data-type="rational"><var>(NEG1 * N1 * NEG2 * D2) / (D1 * N2)</var></div>
        </div>
    </div>

    <div class="hints">
        <div>
            <p>轉換為乘法：</p>
            <p><code>\displaystyle {} = <span data-if="NEG1 === -1">\left(</span><var>NEG1S</var> \frac{<var>N1</var>}{<var>D1</var>}<span data-if="NEG1 === -1">\right)</span> \times <span data-if="NEG2 === -1">\left(</span><var>NEG2S</var> \frac{<var>D2</var>}{<var>N2</var>}<span data-if="NEG2 === -1">\right)</span></code></p>
        </div>

        <div data-if="GCD1 !== 1 || GCD2 !== 1">
            <p>約分：</p>
            <p><code>\displaystyle {} = <span data-if="NEG1 === -1">\left(</span><var>NEG1S</var> \frac{<var>SIMP_N1</var>}{<var>SIMP_D1</var>}<span data-if="NEG1 === -1">\right)</span> \times <span data-if="NEG2 === -1">\left(</span><var>NEG2S</var> \frac{<var>SIMP_D2</var>}{<var>SIMP_N2</var>}<span data-if="NEG2 === -1">\right)</span></code></p>
        </div>

        <div data-if="SIMP_N1 / SIMP_D1 !== 1 && SIMP_N2 / SIMP_D2 !== 1">
            <p>合併成一個分式：</p>
            <p><code>\displaystyle {} = \frac{<span data-if="NEG1 === -1">\left(</span><var>NEG1 * SIMP_N1</var><span data-if="NEG1 === -1">\right)</span> \times <span data-if="NEG2 === -1">\left(</span><var>NEG2 * SIMP_D2</var><span data-if="NEG2 === -1">\right)</span>}{<var>SIMP_D1</var> \times <var>SIMP_N2</var>}</code></p>
        </div>

        <div>
            <p>簡化完成：</p>
            <p><code>\displaystyle {} = \color{#FF00FF}{<var>fractionReduce(NEG1 * N1 * NEG2 * D2, D1 * N2)</var>}</code></p>
        </div>

    </div>
    </div>
</body>
</html>
