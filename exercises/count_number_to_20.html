<!DOCTYPE html>

<html data-require="math math-format graphie graphie-helpers interactive">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>數一數,20以內的數</title>

    <script src="../khan-exercise.js"></script>
	<style type="text/css">
		table.nLimit{margin:0px ;border:0px }
		table.nLimit td { border: 0px solid #AAA; }
		table.nLimit td { padding: 1px; vertical-align:middle;}
		#answer_area .sol input[type=text] {
            width: 35px;
        }
		#answer_area .entry input[type=text] {
            width: 35px;
        }
		.moveable_li { margin:30px 0px 10px 0px;}
		.empty_ele {margin:10px 0px 10px 0px; height:43px;line-height:43px;overflow:hidden;border:solid 2px #EEEEEE;background-color:#ADADAD}
		.b1,.b2,.b3,.b4,.b1b,.b2b,.b3b,.b4b,.b{display:block;overflow:hidden;}
		.b1,.b2,.b3,.b1b,.b2b,.b3b{height:1px;}
		.b2,.b3,.b4,.b2b,.b3b,.b4b,.b{border-left:1px solid #999;border-right:1px solid #999;}
		.b1,.b1b{margin:0 3px;background:#999;}
		.b2,.b2b{margin:0 2px;border-width:1px;}
		.b3,.b3b{margin:0 1px;}
		.b4,.b4b{height:1px;margin:0 1px;}
		.d1,{background:#F7F8F9;}
		.k{height:40px;}
	</style>

</head>

<script type="text/javascript">
	function isIn(array, elem) {
        for (var v in array) {
            if (elem == array[v])
                return true;
        }
        return false;
    }
	 function loadImg(elem, url, count, width) {

        var loimg = document.getElementById(elem);

        var inner = "";

        for (var i = 1; i <= count; i++) {

            inner += "<img id=\"image" + elem + i + "\" width=" + width + "\" src="+url+">";

        }

        loimg.innerHTML += inner;

    }
		function movein(ele){
			$('#'+ele).css("border","2px solid #FFA500");
		}
		function moveout(ele){
			$('#'+ele).css("border-width","0px");
		}
		function loadImges(elem,url,count){

			for(var j=1;j<=count;j++){

				document.getElementById(elem+j).src=url;

			}
		
		}
		function chg4(num1,num2,num3){
			var randNum = KhanUtil.randRange(1,3);
			if(randNum == 1){
				document.getElementById("c_1").value=num1;
				document.getElementById("c_2").value=num2;
				document.getElementById("c_3").value=num3;
				return [num1,num2,num3];
			}
			if(randNum == 2){
				document.getElementById("c_1").value=num2;
				document.getElementById("c_2").value=num1;
				document.getElementById("c_3").value=num3;
				return [num2,num1,num3];
			}
			if(randNum == 3){
				document.getElementById("c_1").value=num2;
				document.getElementById("c_2").value=num3;
				document.getElementById("c_3").value=num1;
				return [num2,num3,num1];
			}
		}
</script>

<body>

    <div class="exercise">

        <div class="problems">

            <div id="case1">
                <div class="vars">
					<var id="data_new">randFromArray([["Horse.png","匹馬"],["monkey.png","隻猴子"],["squirrels.png","隻松鼠"]])</var>
					<var id="count">randRangeUnique(1,20,3)</var>
					<var id="data">
						(function(){
							loadImg("grid",Khan.urlBase+"images/"+data_new[0],count[0],"10%");
						})()
					</var>
					<var id="a">data_new[1]</var>
					<var id="right_1">count[0]</var>
					<var id="wro_1">count[1]</var>
					<var id="wro_2">count[2]</var>
					<var id="change2">chg4(right_1,wro_1,wro_2)</var>
					<var id="test">(function(){Khan.scratchpad.disable();})()</var>
					
				 </div>

                <div class="question">
					<div class="problem">
						<p>有多少<var>a</var>？</p>
						<p onclick="$('#c_1').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_1"><code><var>change2[0]</var></code></p>
						<p onclick="$('#c_2').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_2"><code><var>change2[1]</var></code></p>
						<p onclick="$('#c_3').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_3"><code><var>change2[2]</var></code></p>					
						<div id="grid" style="text-align:left;"></div>												
					</div>

                </div>

                <div class="solution" data-type="multiple">
                    <div class="sol" data-type="custom">
						<div class="guess">1</div>
						<div class="validator-function">
							if($("#c_1").attr("checked")!='checked' && $("#c_2").attr("checked")!='checked' && $("#c_3").attr("checked")!='checked'){
								return "";
							}
							var bol1=false;
							if((document.getElementById("c_1").checked&&document.getElementById("c_1").value==right_1)||(document.getElementById("c_2").checked&&document.getElementById("c_2").value==right_1)||(document.getElementById("c_3").checked&&document.getElementById("c_3").value==right_1))
							{
								bol1=true;
							}
							return bol1;
						</div>
                    </div>
					<p>請在左邊選擇正確答案</p>
                </div>

				<div class="hints">
					<p>一共有 <code class="hint_pink"><var>right_1</var></code> <var>a</var></p>
				</div>

            </div>
			
			<div id="case2">
                <div class="vars" data-ensure="right_1!=wro_1&&right_1!=wro_2&&wro_1!=wro_2">
				<var id="data">
						(function(){
                            var count=new Array()
                            for(i=0;i&lt;1;i++){
                                count[0] = randRange(5, 6);
                            }
                            var kind=new Array(1);
                            var path=new Array(3);
                            for(i=0;i&lt;1;i++)
                                kind[i]=0;
                            var n1=0;
							while(n1&lt;1)
							{
								var v=randRange(1,3);
								if(isIn(kind,v))
									continue;
								kind[n1]=v;
								n1++;
							}
							var rename=new Array(1);
							var s1=new Array(1);
                            for(i=0;i&lt;1;i++)
                            {   
                                switch(kind[i])
                                {
									case 1:path[i]="compare_banana.png";rename[i]="根香蕉";s1=1;break;
									case 2:path[i]="ladybugs.png";rename[i]="隻瓢蟲";s1=2;break;
									case 3:path[i]="compare_apple.png";rename[i]="個蘋果";s1=3;break;
                                }
                            }
                            loadImg("grid11",Khan.urlBase+"images/"+path[0],1,"60%");
							loadImg("grid12",Khan.urlBase+"images/"+path[0],1,"60%");
							loadImg("grid13",Khan.urlBase+"images/"+path[0],1,"60%");
							loadImg("grid14",Khan.urlBase+"images/"+path[0],1,"60%");
							loadImg("grid15",Khan.urlBase+"images/"+path[0],1,"60%");
							loadImg("grid16",Khan.urlBase+"images/"+path[0],1,"60%");
                            return [count,rename,s1,path[0]];
                        })()
					</var>
					<var id="a">data[1]</var>
					<var id="s">data[2]</var>
					<var id="name">data[3]</var>
					<var id="right_1">data[0]</var>
					<var id="wro_1">randRange(7,10)</var>
					<var id="wro_2">randRange(11,20)</var>
					<var id="change2">chg4(right_1,wro_1,wro_2)</var>
					<var id="test">(function(){Khan.scratchpad.disable();})()</var>
					
				 </div>

                <div class="question">
					<div class="problem">
						<p>有多少<var>a</var>？</p>
						<div>
							<table class="nLimit" style="width:30%">
								<tr>
									<td></td><td><div id="grid11"></div>
									</td><td></td>
								</tr>
								<tr>
									<td><div id="grid12"></div>
									</td><td></td>
									<td><div id="grid13"></div>
									</td>
								</tr>
								<tr>
									<td><div id="grid14"></div>
									</td><td></td>
									<td><div id="grid15"></div>
									</td>
								</tr>
								<tr>
									<td></td><td><div data-if="right_1==6"><div id="grid16"></div></div>
									</td><td></td>
								</tr>
								
							</table>
						</div>
						
						<p onclick="$('#c_1').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_1"><code><var>change2[0]</var></code></p>
						<p onclick="$('#c_2').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_2"><code><var>change2[1]</var></code></p>
						<p onclick="$('#c_3').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_3"><code><var>change2[2]</var></code></p>
												
					</div>

                </div>

                <div class="solution" data-type="multiple">
                    <div class="sol" data-type="custom">
						<div class="guess">1</div>
						<div class="validator-function">
							if($("#c_1").attr("checked")!='checked' && $("#c_2").attr("checked")!='checked' && $("#c_3").attr("checked")!='checked'){
								return "";
							}
							var bol1=false;
							if((document.getElementById("c_1").checked&&document.getElementById("c_1").value==right_1)||(document.getElementById("c_2").checked&&document.getElementById("c_2").value==right_1)||(document.getElementById("c_3").checked&&document.getElementById("c_3").value==right_1))
							{
								bol1=true;
							}
							return bol1;
						</div>
                    </div>
					<p>請在左邊選擇正確答案</p>
                </div>

				<div class="hints">
					<div>
					<div data-if="s==1"style="width:490px;">
						<table class="nLimit"  style="width:30%">
							<tr>
								<td></td><td>1<img class="names" src="" style="width:50%;height:50%"></img>
								</td><td></td>
							</tr>
							<tr>
								<td>2<img class="names" src=""style="width:50%;height:50%"></img>
								</td><td></td>
								<td>3<img class="names" src="" style="width:50%;height:50%"></img>
								</td>
							</tr>
							<tr>
								<td>4<img class="names" src="" style="width:50%;height:50%"></img>
								</td><td></td>
								<td>5<img class="names" src="" style="width:50%;height:50%"></img>
								</td>
							</tr>
							<tr>
								<td></td><td><div data-if="right_1==6">6<img class="names" src="" style="width:50%;height:50%"></img></div>
								</td><td></td>
							</tr>
						</table>
					</div>
					<div data-if="s==2"style="width:490px;">
						<table class="nLimit"style="width:30%">
							<tr>
								<td></td><td>1<img class="names" src="" style="height:70%"></img>
								</td><td></td>
							</tr>
							<tr>
								<td>2<img class="names" src="" style="height:70%"></img>
								</td><td></td>
								<td>3<img class="names" src="" style="height:70%"></img>
								</td>
							</tr>
							<tr>
								<td>4<img class="names" src="" style="height:70%"></img>
								</td><td></td>
								<td>5<img class="names" src="" style="height:70%"></img>
								</td>
							</tr>
							<tr>
								<td></td><td><div data-if="right_1==6">6<img class="names" src="" style="width:90%;height:70%"></img></div>
								</td><td></td>
							</tr>							
						</table>
					</div>
					<div data-if="s==3"style="width:490px;">
						<table class="nLimit" width="30%" style="width:30%">
							<tr>
								<td></td><td>1<img class="names" src="" style="width:80%;height:70%"></img>
								</td><td></td>
							</tr>
							<tr>
								<td>2<img class="names" src="" style="width:80%;height:70%"></img>
								</td><td></td>
								<td>3<img class="names" src="" style="width:80%;height:70%"></img>
								</td>
							</tr>
							<tr>
								<td>4<img class="names" src="" style="width:80%;height:70%"></img>
								</td><td></td>
								<td>5<img class="names" src="" style="width:80%;height:70%"></img>
								</td>
							</tr>
							<tr>
								<td></td><td><div data-if="right_1==6">6<img class="names" src="" style="width:80%;height:70%"></img></div>
								</td><td></td>
							</tr>
						</table>
					</div>
					<div><var>(function(){
						$("#hint").click(function() {
							$('.names').attr('src',Khan.urlBase+"images/"+name);
							});
						})()</var>
					</div></div>
					<p>一共有 <code class="hint_pink"><var>right_1</var></code> <var>a</var></p>
				</div>

            </div>
			<div id="case3">
                <div class="vars">				
					<var id="data_new">randFromArray([["chicks.png","隻小雞"],["ladybugs.png","隻瓢蟲"],["compare_banana.png","根香蕉"]])</var>
					<var id="count">randRangeUnique(1,20,3)</var>
					<var id="data">
						(function(){
							loadImg("grid",Khan.urlBase+"images/"+data_new[0],count[0],"10%");
						})()
					</var>
					<var id="a">data_new[1]</var>
					<var id="right_1">count[0]</var>
					<var id="wro_1">count[1]</var>
					<var id="wro_2">count[2]</var>
					<var id="change2">chg4(right_1,wro_1,wro_2)</var>
					<var id="test">(function(){Khan.scratchpad.disable();})()</var>									
				 </div>

                <div class="question">
					<div class="problem">
						<p>有多少<var>a</var>？</p>
						<p onclick="$('#c_1').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_1"><code><var>change2[0]</var></code></p>
						<p onclick="$('#c_2').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_2"><code><var>change2[1]</var></code></p>
						<p onclick="$('#c_3').attr('checked','checked')"><input type="radio" name="count_numbers_1" id="c_3"><code><var>change2[2]</var></code></p>
								<div id="grid" style="text-align:left;">
								</div>
						
					</div>

                </div>

                <div class="solution" data-type="multiple">
                    <div class="sol" data-type="custom">
						<div class="guess">1</div>
						<div class="validator-function">
							if($("#c_1").attr("checked")!='checked' && $("#c_2").attr("checked")!='checked' && $("#c_3").attr("checked")!='checked'){
								return "";
							}
							var bol1=false;
							if((document.getElementById("c_1").checked&&document.getElementById("c_1").value==right_1)||(document.getElementById("c_2").checked&&document.getElementById("c_2").value==right_1)||(document.getElementById("c_3").checked&&document.getElementById("c_3").value==right_1))
							{
								bol1=true;
							}
							return bol1;
						</div>
                    </div>
					<p>請在左邊選擇正確答案</p>
                </div>

				<div class="hints">
					<p>一共有 <code class="hint_pink"><var>right_1</var></code> <var>a</var></p>
				</div>

            </div>	

        </div>

    </div>

</body>

</html>
