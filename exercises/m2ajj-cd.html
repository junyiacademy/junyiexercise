<!DOCTYPE html>
<html data-require="math math-format graphie word-problems interactive">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>數線上的加減 </title>
    <script src="../khan-exercise.js"></script>
	<style type="text/css">
			table.nLimit td { width:60px;}
        </style>
	<script language="javascript">
		function loadimg(center,imgname,xsize,ysize) {
			var graph = KhanUtil.currentGraph;
			this.set = graph.raphael.set();
			
			this.cx = center[0];
			this.cy = center[1];
			var lineColor = "#789";
			var pro = this;
			var r = 3.05;
			var imgPos = graph.scalePoint([this.cx - r, this.cy + r]);
			this.set.push(graph.mouselayer.image(Khan.urlBase + "images/"+imgname, imgPos[0], imgPos[1], xsize,ysize));
			return this;
		}
    </script>
</head>
<body>
    <div class="exercise">
    <div class="problems">
		
		<div id="case1">
			<div class="vars">
				<var id="START_NUMBER">randRange(0,9)</var>
				<var id="START_INDEX">randRange(0,10)</var>
				<var id="END_INDEX">randRange(1,11-START_INDEX)</var>
				<var id="data_new">"butterfly.gif"</var>
				<var id="ANSWER">START_NUMBER+START_INDEX+END_INDEX</var>
			</div>
			
			 <div class="question">
                <p>蝴蝶從 <code><var>START_NUMBER+START_INDEX</var></code> 開始，向右飛 <code><var>END_INDEX</var></code> 格，會停在哪一個數字上？</p>
			</div>
			
			<div class="problem">
               <div class="graphie" id="case1-line">
						init( { range : [ [ -6, 8 ], [ -4, 3 ] ], scale : [ 40, 40 ] } );

						line( [ -6, 0 ], [ 8, 0 ], { arrows : "&gt;" } );
						for( var i = 0; i &lt; 12; i++ ) {
							circle( [ -5 + i * ( 14 / 13 ), 0 ], 0.05, { fill : "black" } );
							label( [ -5 + i * ( 14 / 13 ), 0 ], START_NUMBER+i, "below" );
						}
						addMouseLayer();
	                    Khan.scratchpad.enable();
	                    graph.Bigger = new loadimg( [ -2.5 +START_INDEX * ( 14 / 13 ), -0.5 ], data_new, 60, 80 );
				</div>
            </div>
			
			<div class="solution" data-type="multiple">
			    <span class="sol" data-forms="integer"><var>ANSWER</var></span>
            </div>


            <div class="hints">
                 <div>
				 <p>蝴蝶從 <code><var>START_NUMBER+START_INDEX</var></code> 開始，向右飛 <code><var>END_INDEX</var></code> 格</p>
				 <div class="graphie" data-update="case1-line">
					var _COUNT = 0;
						setTimeout(function() {
							p = setInterval(function() {
								arc( [ -4.45 + (START_INDEX+_COUNT) * ( 14 / 13 ), 0 ], 14/26, 0, 180, { stroke : RED } );
								label( [ -4.5 + (START_INDEX+_COUNT) * ( 14 / 13 ), 0.3], _COUNT+1, "above", { color : BLUE } );
								_COUNT++;
								if( _COUNT == END_INDEX){
									$('#pp1').show();
									clearInterval(p);
								}
							}, 750 );
						}, 0 );
                </div>
				 </div>
				 <p><code><var>START_NUMBER+START_INDEX</var>+<var>END_INDEX</var>=<var>ANSWER</var></code>，因此蝴蝶會停在 <code class="hint_pink"><var>ANSWER</var></code> 上面。</p>
            </div>
		</div>
		
		<div id="case2">
			<div class="vars">
				<var id="START_NUMBER">randRange(1,7)</var>
				<var id="START_INDEX">randRange(0,10)</var>
				<var id="END_INDEX">randRange(1,11-START_INDEX)</var>
				<var id="data_new">"ant.gif"</var>
				<var id="ANSWER">START_NUMBER+START_INDEX+END_INDEX</var>
			</div>
			
			 <div class="question">
                <p>小螞蟻從 <code><var>START_NUMBER+START_INDEX</var></code> 開始，向右走 <code><var>END_INDEX</var></code> 格，會停在哪一個數字上？</p>
			</div>
			
			<div class="problem">
                 <div class="graphie" id="case1-line">
						init( { range : [ [ -6, 8 ], [ -4, 3 ] ], scale : [ 40, 40 ] } );

						line( [ -6, 0 ], [ 8, 0 ], { arrows : "&gt;" } );
						for( var i = 0; i &lt; 12; i++ ) {
							circle( [ -5 + i * ( 14 / 13 ), 0 ], 0.05, { fill : "black" } );
							label( [ -5 + i * ( 14 / 13 ), 0 ], START_NUMBER+i, "below" );
						}
						addMouseLayer();
	                    Khan.scratchpad.enable();
	                    graph.Bigger = new loadimg( [ -2.5 +START_INDEX * ( 14 / 13 ), -0.5 ], data_new, 60, 80 );
				</div>
            </div>
			
			<div class="solution" data-type="multiple">
			    <span class="sol" data-forms="integer"><var>ANSWER</var></span>
            </div>


            <div class="hints">
                 <div>
				 <p>小螞蟻從 <code><var>START_NUMBER+START_INDEX</var></code> 開始，向右走 <code><var>END_INDEX</var></code> 格</p>
				  <div class="graphie" data-update="case1-line">
					var _COUNT = 0;
						setTimeout(function() {
							p = setInterval(function() {
								arc( [ -4.45 + (START_INDEX+_COUNT) * ( 14 / 13 ), 0 ], 14/26, 0, 180, { stroke : RED } );
								label( [ -4.5 + (START_INDEX+_COUNT) * ( 14 / 13 ), 0.3], _COUNT+1, "above", { color : BLUE } );
								_COUNT++;
								if( _COUNT == END_INDEX){
									$('#pp1').show();
									clearInterval(p);
								}
							}, 750 );
						}, 0 );
                </div>
				 </div>
				 <p><code><var>START_NUMBER+START_INDEX</var>+<var>END_INDEX</var>=<var>ANSWER</var></code>，因此小螞蟻會停在 <code class="hint_pink"><var>ANSWER</var></code> 上面。</p>
            </div>
		</div>
		
		<div id="case3">
			<div class="vars">
				<var id="START_NUMBER">randRange(1,4)</var>
				<var id="START_INDEX">randRange(0,10)</var>
				<var id="END_INDEX">randRange(1,11-START_INDEX)</var>
				<var id="data_new">"mycat.gif"</var>
				<var id="ANSWER">START_NUMBER+START_INDEX+END_INDEX</var>
			</div>
			
			 <div class="question">
                <p>貓咪從 <code><var>ANSWER</var></code> 開始，向左走 <code><var>END_INDEX</var></code> 格，會停在哪一個數字上？</p>
			</div>
			
			<div class="problem">
				<div class="graphie" id="case1-line">
						init( { range : [ [ -6, 8 ], [ -4, 3 ] ], scale : [ 40, 40 ] } );

						line( [ -6, 0 ], [ 8, 0 ], { arrows : "&gt;" } );
						for( var i = 0; i &lt; 12; i++ ) {
							circle( [ -5 + i * ( 14 / 13 ), 0 ], 0.05, { fill : "black" } );
							label( [ -5 + i * ( 14 / 13 ), 0 ], START_NUMBER+i, "below" );
						}
						addMouseLayer();
	                    Khan.scratchpad.enable();
	                    graph.Bigger = new loadimg( [ -2.5 +(START_INDEX+END_INDEX) * ( 14 / 13 ), -0.5 ], data_new, 60, 80 );
				</div>
            </div>
			
			<div class="solution" data-type="multiple">
			    <span class="sol" data-forms="integer"><var>START_NUMBER+START_INDEX</var></span>
            </div>


            <div class="hints">
                 <div>
				 <p>小貓咪從 <code><var>ANSWER</var></code> 開始，向左走 <code><var>END_INDEX</var></code> 格</p>
				 <div class="graphie" data-update="case1-line">
					var _COUNT = 0;
					var J=END_INDEX;
						setTimeout(function() {
							p = setInterval(function() {
								arc( [ -4.45 + (START_INDEX+J-1) * ( 14 / 13 ), 0 ], 14/26, 0, 180, { stroke : RED } );
								label( [ -4.45 + (START_INDEX+J-1) * ( 14 / 13 ), 0.3], _COUNT+1, "above", { color : BLUE } );
								_COUNT++;
								J--;
								if( _COUNT == END_INDEX){
									$('#pp1').show();
									clearInterval(p);
								}
							}, 750 );
						}, 0 );
                </div>
				 </div>
				 <p><code><var>ANSWER</var>-<var>END_INDEX</var>=<var>START_NUMBER+START_INDEX</var></code>，因此小貓咪會停在 <code class="hint_pink"><var>START_NUMBER+START_INDEX</var></code> 上面。</p>
            </div>
		</div>
		
		<div id="case4">
			<div class="vars">
				<var id="START_NUMBER">randRange(1,7)</var>
				<var id="START_INDEX">randRange(0,10)</var>
				<var id="END_INDEX">randRange(1,11-START_INDEX)</var>
				<var id="data_new">"mybird.gif"</var>
				<var id="ANSWER">START_NUMBER+START_INDEX+END_INDEX</var>
			</div>
			
			 <div class="question">
                <p>小雞從 <code><var>ANSWER</var></code> 開始，向左走 <code><var>END_INDEX</var></code> 格，會停在哪一個數字上？</p>
			</div>
			
			<div class="problem">
               <div class="graphie" id="case1-line">
						init( { range : [ [ -6, 8 ], [ -4, 3 ] ], scale : [ 40, 40 ] } );

						line( [ -6, 0 ], [ 8, 0 ], { arrows : "&gt;" } );
						for( var i = 0; i &lt; 12; i++ ) {
							circle( [ -5 + i * ( 14 / 13 ), 0 ], 0.05, { fill : "black" } );
							label( [ -5 + i * ( 14 / 13 ), 0 ], START_NUMBER+i, "below" );
						}
						addMouseLayer();
	                    Khan.scratchpad.enable();
	                    graph.Bigger = new loadimg( [ -2.7 +(START_INDEX+END_INDEX) * ( 14 / 13 ), -1 ], data_new, 60, 60 );
				</div>
            </div>
			
			<div class="solution" data-type="multiple">
			    <span class="sol" data-forms="integer"><var>START_NUMBER+START_INDEX</var></span>
            </div>


            <div class="hints">
                 <div>
				 <p>小雞從 <code><var>ANSWER</var></code> 開始，向左走 <code><var>END_INDEX</var></code> 格</p>
				 <div class="graphie" data-update="case1-line">
					var _COUNT = 0;
					var J=END_INDEX;
						setTimeout(function() {
							p = setInterval(function() {
								arc( [ -4.45 + (START_INDEX+J-1) * ( 14 / 13 ), 0 ], 14/26, 0, 180, { stroke : RED } );
								label( [ -4.45 + (START_INDEX+J-1) * ( 14 / 13 ), 0.3], _COUNT+1, "above", { color : BLUE } );
								_COUNT++;
								J--;
								if( _COUNT == END_INDEX){
									$('#pp1').show();
									clearInterval(p);
								}
							}, 750 );
						}, 0 );
                 </div>
				 </div>
				 <p><code><var>ANSWER</var>-<var>END_INDEX</var>=<var>START_NUMBER+START_INDEX</var></code>，因此小雞會停在 <code class="hint_pink"><var>START_NUMBER+START_INDEX</var></code> 上面。</p>
            </div>
		</div>
		
		
	</div>
	</div>
</body>
</html>
